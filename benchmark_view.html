<!DOCTYPE html>
<html>
<head>
    <title>Benchmark View</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { font-family: 'Poppins', sans-serif; background: #f4f7f6; margin: 0; padding: 0; color: #2d3748; overflow-x: hidden; }

        /* Full Width Hero */
        .header-hero { background: white; padding: 40px; border-bottom: 1px solid #e2e8f0; width: 100%; box-sizing: border-box; }

        /* Fluid Container */
        .container { width: 100%; padding: 0 40px; box-sizing: border-box; }

        h1 { margin: 0 0 10px 0; font-size: 2rem; }
        .meta { color: #718096; font-size: 0.9rem; margin-bottom: 20px; }
        .meta a { color: #3182ce; text-decoration: none; }

        .tabs { display: flex; gap: 30px; margin-top: 30px; border-bottom: 1px solid #e2e8f0; }
        .tab { padding: 10px 0; cursor: pointer; font-weight: 600; color: #718096; border-bottom: 3px solid transparent; }
        .tab.active { color: #2d3748; border-bottom-color: #3182ce; }

        .content-area { padding: 40px; width: 100%; box-sizing: border-box; }
        .panel { display: none; }
        .panel.active { display: block; }

        .data-card { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); margin-bottom: 20px; width: 100%; box-sizing: border-box; }
        .zenodo-btn { display: inline-flex; align-items: center; gap: 8px; background: #3182ce; color: white; padding: 10px 20px; border-radius: 4px; text-decoration: none; font-size: 0.9rem; margin-top: 10px; }

        table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        th, td { padding: 20px; text-align: left; border-bottom: 1px solid #edf2f7; }
        th { background: #f7fafc; font-weight: 600; text-transform: uppercase; font-size: 0.85rem; color: #718096; }
    </style>
</head>
<body>

<div class="header-hero">
    <div class="container">
        <a href="community.html" style="color:#718096; text-decoration:none; font-size:0.85rem;">&larr; Back to Benchmarks</a>
        <h1 id="b-title">Loading...</h1>
        <div class="meta" id="b-meta"></div>

        <div class="tabs">
            <div class="tab active" onclick="switchTab('overview')">Overview</div>
            <div class="tab" onclick="switchTab('data')">Datasets & Code</div>
            <div class="tab" onclick="switchTab('leaderboard')">Comparisons</div>
        </div>
    </div>
</div>

<div class="content-area">

    <div id="overview" class="panel active">
        <div class="data-card">
            <h3>Description</h3>
            <p id="b-desc">Loading description...</p>
            <h3>Protocol</h3>
            <p id="b-protocol">Protocol details...</p>
        </div>

        <div class="data-card" id="metrics-card">
            <h3>Metrics</h3>
            <ul id="b-metrics-list"></ul>
        </div>
    </div>

    <div id="data" class="panel">
        <div class="data-card">
            <h3>Primary Data Source</h3>
            <p>This benchmark relies on the following persistent repository:</p>
            <div id="b-zenodo"></div>
        </div>
    </div>

    <div id="leaderboard" class="panel">
        <div class="data-card">
            <h3>Solution Comparison</h3>
            <table id="comp-table">
                <thead>
                <tr>
                    <th>Solution Name</th>
                    <th>Author</th>
                    <th>Metric 1</th>
                    <th>Metric 2</th>
                    <th>Link</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Proposed Method A</td>
                    <td>Smith et al.</td>
                    <td>0.89</td>
                    <td>120s</td>
                    <td><a href="#">View</a></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>

<script>
    const API_URL = "http://localhost:3001";
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get('id');

    async function loadBenchmark() {
        // In real app: fetch(`${API_URL}/benchmark/${id}`)
        // Mocking display for now
        document.getElementById('b-title').innerText = "Virtual Reality in Architecture";
        document.getElementById('b-meta').innerHTML = `Created by <strong>Jane Doe</strong> • Updated 2 days ago • Domain: <strong>Architecture</strong>`;
        document.getElementById('b-desc').innerText = "This study aims to benchmark user engagement levels...";
        document.getElementById('b-protocol').innerText = "Participants are asked to navigate 5 models for 10 minutes each...";

        document.getElementById('b-zenodo').innerHTML = `
            <a href="https://zenodo.org" target="_blank" class="zenodo-btn">
                <i class="fas fa-external-link-alt"></i> Open in Zenodo
            </a>
        `;
    }

    function switchTab(tabId) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
        event.target.classList.add('active');
        document.getElementById(tabId).classList.add('active');
    }

    window.onload = loadBenchmark;
</script>

</body>
</html>